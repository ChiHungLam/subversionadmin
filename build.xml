<project basedir="." name="JLVCDT"  default="compile">
	
	<property name="gwt.home" location="C:/gwt-windows-1.5.0/"/>
	
	<target name="compile">
		
		<delete dir="classes" failonerror="no"/>
		<mkdir dir="classes"/>
		
		<delete dir="temp" failonerror="no"/>
		<mkdir dir="temp/web_classes"/>
	
		<javac srcdir="source/server" destdir="classes">
			<classpath>
			      <fileset dir="lib">
			        <include name="**/*.jar"/>
			      </fileset>
			</classpath>
		</javac>
			
		<javac srcdir="source/client" destdir="temp/web_classes">
			<classpath>
			      <fileset dir="lib">
			        <include name="**/*.jar"/>
			      </fileset>
				  <fileset dir="${gwt.home}">
				  	<include name="**/*.jar"/>
				  </fileset>
			</classpath>
		</javac>
		
		<copy todir="temp/web_classes">
			<fileset dir="source/client"/>
		</copy>
				
		<java classname="com.google.gwt.dev.GWTCompiler" 
			fork="true" maxmemory="256m">
			<classpath>
			    <fileset dir="lib">
			      <include name="**/*.jar"/>
			    </fileset>
				<fileset dir="${gwt.home}">
				  	<include name="**/*.jar"/>
				</fileset>
				<pathelement location="temp/web_classes"/>
			</classpath>
			
				<arg value="-out"/>
				<arg value="www"/>
				<arg value="com.gorthaur.svnadmin.SvnAdministration"/>
			
		</java>
		
	</target>
	
</project>